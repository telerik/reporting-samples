@page "/"

<PageTitle>Report Viewer</PageTitle>

<ReportViewer ServiceUrl="https://demos.telerik.com/reporting/api/reports"
              @bind-ReportSource="@ReportSource"
              @bind-ScaleMode="@ScaleMode"
              @bind-ViewMode="@ViewMode"
              @bind-ParametersAreaVisible="@ParametersAreaVisible"
              @bind-DocumentMapVisible="@DocumentMapVisible"
              @bind-Scale="@Scale"
              PageMode="@PageMode.ContinuousScroll"
              PrintMode="@PrintMode.AutoSelect"
              KeepClientAlive="true"
              EnableSendEmail="true"
              ServiceType="@ReportViewerServiceType.REST"
              Height="900px"
              Width="100%">
    <ReportViewerSettings>
        <SendEmailDialogSettings From="from@example.com"
                                 To="to@example.com"
                                 Cc="cc@example.com"
                                 Subject="Report sent"
                                 Format="CSV"
                                 Body="Attached report. <br/> <br/> Best regards, </br> ABC">
        </SendEmailDialogSettings>
    </ReportViewerSettings>
</ReportViewer>

@code {
    public ScaleMode ScaleMode { get; set; } = ScaleMode.Specific;
    public ViewMode ViewMode { get; set; } = ViewMode.Interactive;
    public bool ParametersAreaVisible { get; set; }
    public bool DocumentMapVisible { get; set; }
    public double Scale { get; set; } = 1.0;

    public ReportSourceOptions ReportSource { get; set; } = new ReportSourceOptions("Dashboard.trdx", new Dictionary<string, object>
    {
        // Add parameters if applicable
    });

    protected override void OnInitialized()
    {
        var culture = new CultureInfo("bg-BG");

        CultureInfo.DefaultThreadCurrentCulture = culture;
        CultureInfo.DefaultThreadCurrentUICulture = culture;

        base.OnInitialized();
    }
}
